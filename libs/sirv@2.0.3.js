var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),P=e=>import.meta.require(e),l=f(e=>{var t=function(e,s,r=""){e=a(".",e);let p=n(e),m=0,g,c;for(;m<p.length;m++)g=i(e,p[m]),(c=o(g)).isDirectory()?t(g,s,i(r,p[m])):s(i(r,p[m]),g,c)},{join:i,resolve:a}=import.meta.require("path"),{readdirSync:n,statSync:o}=import.meta.require("fs");e.totalist=t}),F=f(e=>{var t=function(e){let t=e.url;if(null==t)return;let a=e._parsedUrl;if(a&&a.raw===t)return a;let n=t,o="",s;if(t.length>1){let r=t.indexOf("?",1);-1!==r&&(o=t.substring(r),n=t.substring(0,r),o.length>1&&(s=i.parse(o.substring(1))))}return e._parsedUrl={pathname:n,search:o,query:s,raw:t}},i=import.meta.require("querystring");e.parse=t}),z=f(e=>{var t=function(e){let t=(""+e).trim().toLowerCase(),a=t.lastIndexOf(".");return i[~a?t.substring(++a):t]},i={gz:"application/gzip",js:"application/javascript",mjs:"application/javascript",json:"application/json",webmanifest:"application/manifest+json",cjs:"application/node",bin:"application/octet-stream",pkg:"application/octet-stream",dump:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",deb:"application/octet-stream",dmg:"application/octet-stream",iso:"application/octet-stream",img:"application/octet-stream",zip:"application/zip","3gpp":"video/3gpp",mp3:"audio/mpeg",m4a:"audio/mp4",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",opus:"audio/ogg",wav:"audio/wav",weba:"audio/webm",otf:"font/otf",ttf:"font/ttf",woff:"font/woff",woff2:"font/woff2",gif:"image/gif",heic:"image/heic",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",svgz:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",tfx:"image/tiff-fx",webp:"image/webp",mime:"message/rfc822",manifest:"text/cache-manifest",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",shtml:"text/html",jsx:"text/jsx",markdown:"text/markdown",md:"text/markdown",mdx:"text/mdx",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mov:"video/quicktime",webm:"video/webm"};e.lookup=t,e.mimes=i}),Q2=f((e,t)=>{var i=function(e,t){for(let i=0;i<t.length;i++)if(t[i].test(e))return!0},a=function(e,t){let i=0,a,n=e.length-1;47===e.charCodeAt(n)&&(e=e.substring(0,n));let o=[],s=`${e}/index`;for(;i<t.length;i++)a=t[i]?`.${t[i]}`:"",e&&o.push(e+a),o.push(s+a);return o},n=function(e,t,i){let n=0,o,s=a(t,i);for(;n<s.length;n++)if(o=e[s[n]])return o},o=function(e,t,i,n){let o=0,s=a(i,n),r,u,d,h;for(;o<s.length;o++)if((r=c(g(e,d=s[o]))).startsWith(e)&&m.existsSync(r)){if((u=m.statSync(r)).isDirectory())continue;return(h=p(d,u,t))["Cache-Control"]=t?"no-cache":"no-store",{abs:r,stats:u,headers:h}}},s=function(e,t){return t.statusCode=404,t.end()},r=function(e,t,i,a,n){let o=200,s,r={};for(let p in n={...n})(s=t.getHeader(p))&&(n[p]=s);if((s=t.getHeader("content-type"))&&(n["Content-Type"]=s),e.headers.range){o=206;let[g,c]=e.headers.range.replace("bytes=","").split("-"),u=r.end=parseInt(c,10)||a.size-1,d=r.start=parseInt(g,10)||0;if(u>=a.size&&(u=a.size-1),d>=a.size)return t.setHeader("Content-Range",`bytes */${a.size}`),t.statusCode=416,t.end();n["Content-Range"]=`bytes ${d}-${u}/${a.size}`,n["Content-Length"]=u-d+1,n["Accept-Ranges"]="bytes"}t.writeHead(o,n),m.createReadStream(i,r).pipe(t)},p=function(e,t,i){let a=v[e.slice(-3)],n=x(e.slice(0,a&&-3))||"";"text/html"===n&&(n+=";charset=utf-8");let o={"Content-Length":t.size,"Content-Type":n,"Last-Modified":t.mtime.toUTCString()};return a&&(o["Content-Encoding"]=a),i&&(o.ETag=`W/"${t.size}-${t.mtime.getTime()}"`),o},m=import.meta.require("fs"),{join:g,normalize:c,resolve:u}=import.meta.require("path"),{totalist:d}=l(),{parse:h}=F(),{lookup:x}=z(),b=()=>{},v={".br":"br",".gz":"gzip"};t.exports=function(e,t={}){e=u(e||".");let a=t.onNoMatch||s,m=t.setHeaders||b,g=t.extensions||["html","htm"],c=t.gzip&&g.map(e=>`${e}.gz`).concat("gz"),x=t.brotli&&g.map(e=>`${e}.br`).concat("br"),v={},w="/",$=!!t.etag,y=!!t.single;if("string"==typeof t.single){let j=t.single.lastIndexOf(".");w+=~j?t.single.substring(0,j):t.single}let C=[];!1!==t.ignores&&((C.push(/[/]([A-Za-z\s\d~$._-]+\.\w+){1,}$/),t.dotfiles)?C.push(/\/\.\w/):C.push(/\/\.well-known/),[].concat(t.ignores||[]).forEach(e=>{C.push(RegExp(e,"i"))}));let _=null!=t.maxAge&&`public,max-age=${t.maxAge}`;_&&t.immutable?_+=",immutable":_&&0===t.maxAge&&(_+=",must-revalidate"),t.dev||d(e,(e,i,a)=>{if(/\.well-known[\\+\/]/.test(e));else if(!t.dotfiles&&/(^\.|[\\+|\/+]\.)/.test(e))return;let n=p(e,a,$);_&&(n["Cache-Control"]=_),v["/"+e.normalize().replace(/\\+/g,"/")]={abs:i,stats:a,headers:n}});let k=t.dev?o.bind(0,e,$):n.bind(0,v);return function(e,t,n){let o=[""],s=h(e).pathname,p=e.headers["accept-encoding"]||"";if(c&&p.includes("gzip")&&o.unshift(...c),x&&/(br|brotli)/i.test(p)&&o.unshift(...x),o.push(...g),-1!==s.indexOf("%"))try{s=decodeURI(s)}catch(u){}let d=k(s,o)||y&&!i(s,C)&&k(w,o);return d?$&&e.headers["if-none-match"]===d.headers.ETag?(t.writeHead(304),t.end()):void((c||x)&&t.setHeader("Vary","Accept-Encoding"),m(t,s,d.stats),r(e,t,d.abs,d.stats,d.headers)):n?n():a(e,t)}}});export default Q2();